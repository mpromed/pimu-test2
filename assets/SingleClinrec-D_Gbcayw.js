import{_ as D,z as y,r as b,A as k,c as h,a as n,t as s,b as l,w as o,f as x,x as c,o as P,h as S,j as u,y as B,v as N}from"./index-B8tfgXD2.js";const F={class:"container"},V={class:"title"},j={class:"button-group"},E={__name:"SingleClinrec",setup(I){B();const v=N(),t=y(),i=b(""),d=b([]),m=async()=>{try{const e=await x.getDocument(v.params.id);i.value=e.data.name,t.currentClinrec={id:e.data.id,pdf_url:e.data.pdf_file,approvalDate:e.data.approval_year,revisionDate:e.data.revision_year,mkb_code_list:e.data.mkb_code.join(", "),age:e.data.age_category,publicationDate:e.data.date_publication,status:e.data.status,usage:e.data.usage},f()}catch(e){console.error("Ошибка при загрузке клинической рекомендации:",e)}},f=()=>{d.value=[{label:"ID документа",value:t.currentClinrec.id},{label:"Код МКБ",value:t.currentClinrec.mkb_code_list},{label:"Возрастная категория",value:t.currentClinrec.age},{label:"Год утверждения",value:t.currentClinrec.approvalDate},{label:"Год пересмотра",value:t.currentClinrec.revisionDate},{label:"Дата публикации",value:t.currentClinrec.publicationDate},{label:"Статус",value:t.currentClinrec.status},{label:"Применение",value:t.currentClinrec.usage}]},C=()=>{const e=t.currentClinrec.pdf_url;if(!e){console.warn("PDF не найден");return}const a=document.createElement("a");a.href=e,a.target="_blank",a.download="clinrec.pdf",document.body.appendChild(a),a.click(),document.body.removeChild(a)},g=()=>{const e=t.currentClinrec.pdf_url;if(!e){console.warn("PDF не найден");return}window.open(e,"_blank")};return k(()=>{m()}),(e,a)=>{const _=c("el-table-column"),w=c("el-table"),p=c("el-button");return P(),h("div",F,[a[2]||(a[2]=n("img",{src:S,alt:"Логотип",class:"logo"},null,-1)),n("h1",V,s(i.value),1),l(w,{class:"info-table",data:d.value,border:""},{default:o(()=>[l(_,{prop:"label",width:"250"},{default:o(r=>[n("strong",null,s(r.row.label),1)]),_:1}),l(_,{prop:"value"},{default:o(r=>[u(s(r.row.value),1)]),_:1})]),_:1},8,["data"]),n("div",j,[l(p,{type:"primary",onClick:C,round:"",class:"download-button"},{default:o(()=>a[0]||(a[0]=[u("Скачать PDF")])),_:1}),l(p,{type:"primary",onClick:g,round:"",class:"view-button"},{default:o(()=>a[1]||(a[1]=[u("Просмотреть")])),_:1})])])}}},T=D(E,[["__scopeId","data-v-125b2819"]]);export{T as default};
